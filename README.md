# electronics_shop

Онлайн платформа-торговой сети электроники.

Технические требования Python 3.8+ Django 3+ DRF 3.10+ PostgreSQL 10+

Задание Создайте веб-приложение с API-интерфейсом и админ-панелью. Создайте базу данных, используя миграции Django.

1. Требования к реализации: Необходимо реализовать модель сети по продаже электроники. Сеть должна представлять собой
иерархическую структуру из трех уровней: завод; розничная сеть; индивидуальный предприниматель. Каждое звено сети
ссылается только на одного поставщика оборудования (не обязательно предыдущего по иерархии). Важно отметить, что
уровень иерархии определяется не названием звена, а отношением к остальным элементам сети, т. е. завод всегда находится
на уровне 0, а если розничная сеть относится напрямую к заводу, минуя остальные звенья, ее уровень — 1. Каждое звено
сети должно обладать следующими элементами: Название. Контакты: email, страна, город, улица, номер дома. Продукты:
название, модель, дата выхода продукта на рынок. Поставщик (предыдущий по иерархии объект сети). Задолженность перед
поставщиком в денежном выражении с точностью до копеек. Время создания (заполняется автоматически при создании).
Сделать вывод в админ-панели созданных объектов. На странице объекта сети добавить: ссылку на «Поставщика»; фильтр по
названию города; admin action, очищающий задолженность перед поставщиком у выбранных объектов. Используя DRF, создать
набор представлений: CRUD для модели поставщика (запретить обновление через API поля «Задолженность перед поставщиком»).
Добавить возможность фильтрации объектов по определенной стране. Настроить права доступа к API так, чтобы только
активные сотрудники имели доступ к API.

2. Клонируйте репозиторий:
git clone https://github.com/PavelRybakov0503/electronics_shop

3. Установите виртуальное окружение
Создайте виртуальное окружение:
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
Установите зависимости:
pip install -r requirements.txt

4. Подключите БД
Создайте файл .env и заполните его по образцу .env.sample:

SECRET_KEY=django-insecure-12345!abcde67890!@#qwerty
DATABASE_NAME=<db_name>
DATABASE_USER=<user>
DATABASE_PASSWORD=<your_password>
DATABASE_HOST=localhost
DATABASE_PORT=5432

Примените миграции:

python manage.py makemigrations
python manage.py migrate
Создайте суперпользователя:

python manage.py csu
username: your@example.com password: your_password

Запустите проект:

python manage.py runserver
Используйте административную панель Django (http://127.0.0.1:8000/admin/) для добавления:

Контактов
Продуктов
Сотрудников
Элементов сети

Использование API
Ознакомиться можно здесь:http://127.0.0.1:8000/api/ Через API можно регистрировать и залогинивать пользователей,
создавать звенья сети, просматривать и редактировать информацию о звеньях сети.

Заключение.

1. Создание веб-приложения с API-интерфейсом и админ-панелью Выполнено: Админ-панель Django доступна, объекты модели
Элементы сети отображаются и редактируются через неё. API настроено с помощью Django REST Framework.

2. В админ панели джанго (core) реализованы четыре модели: контакты, продукты, сотрудники, элементы сети.
Контакты - можно отсортировать по стране, городу(как по заданию), улице или номеру дома.
При добавлении контактов необходимо ввести: Email, страну, город, улицу и номер дома.
Продукты - можно отсортировать по названию и дате добавления.
При добавлении продуктов необходимо имя, модель и дату добавления.
Сотрудников можно добавлять из контактов или пользователей при этом казав откуда они из элементов сети. А также указать
статус активности.
В элементах сети (завод, ИП, розничная торговля) добавлена ссылка на поставщика, а также в действиях (admin action)
добавлено - очистить задолженность перед поставщиком.
При добавлении элементов сети необходимо указать: имя, тип(завод, ИП, розничная торговля), контакт, поставщик,
задолженность, статус. Также сразу можно добавить продукты к элементу сети.
3. Созданы сериализаторы.
    Сериализатор ContactSerializer - преобразует экземпляры модели Contact в JSON и обратно.
   - Использует все поля модели (fields = 'all').
    Сериализатор ProductSerializer - аналогично предыдущему сериализатору, но для модели Product.
    Сериализатор NetworkNodeSerializer:
   - Этот сериализатор отвечает за преобразование модели NetworkNode (Элементы сети).
   - Поля contact и products используют соответствующие сериализаторы для вложенных объектов.
   - Поле supplier представляет собой ссылку на объект NetworkNode, отображающую только имя.
   - Поле hierarchy_level доступно только для чтения.
   И реализованы методы для него create и update
   - create: Создает новый объект NetworkNode и связанные с ним продукты и контакт.
   - update: Обновляет существующий объект NetworkNode, включая обновление контакта и продуктов.
   - Также удаляет поле debt из обновляемых данных, чтобы его нельзя было изменить через API.
    Сериализатор NetworkNodeListSerializer - этот сериализатор используется для отображения списка объектов
NetworkNode, показывая лишь основные поля.
   - Поля supplier, hierarchy_level и contact преобразуются в более удобные форматы (например, для отображения имен).
4. Права доступа:
 - IsAuthenticated: Этот раздел определяет классы разрешений по умолчанию для всех представлений (views) в вашем API. 
Доступ к API будет разрешен только аутентифицированным пользователям.Неаутентифицированные пользователи получат отказ
при попытке доступа.
 - SessionAuthentication позволяет использовать сессии Django для аутентификации, что обычно применяется для
веб-приложений.
 - BasicAuthentication позволяет использовать базовую аутентификацию HTTP, при которой пользователи должны предоставить
имя пользователя и пароль в заголовке HTTP.
   